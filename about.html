<!DOCTYPE html>
<html lang="en">
<head>
    <title>Dead forest burning</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" href="assets/beetle2.ico" type="image/x-icon">

    <!--meta data for sharing links on Facebook-->
    <meta property="og:title" content="Dead forests burning"/>
    <!--<meta property="og:url" content=""/>-->
    <meta property="og:description" content="Practice generating a story map."/>
    <meta property="og:image" content="img/social.png"/>

    <!--add required stylesheets-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!--boostrap-->

    <!--leaflet css-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.12/css/all.css">
    <link rel="stylesheet" href="https://turban.github.io/Leaflet.Photo/examples/lib/cluster/MarkerCluster.css" />
    <link rel="stylesheet" href="https://turban.github.io/Leaflet.Photo/Leaflet.Photo.css" />


    <!--add favicon for the web page-->
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">

    <!--Fonts-->
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
    <link rel="stylesheet" href="css/main.css" />
    <link rel="stylesheet" type="text/css" href="css/storymap.2.4.css">




    <!--Scripts-->
    <!--add required libraries-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.js"></script>
    <!--jquery-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <!--boostrap-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
    http://turban.github.io/Leaflet.Photo/examples/lib/cluster/leaflet.markercluster.js
    <script src="js/leaflet.markercluster-src.js"></script>
    <script src="https://turban.github.io/Leaflet.Photo/Leaflet.Photo.js"></script>


    <!--leaflet.ajax for asynchronously adding geojson data-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>

    <!--story map plugin-->
    <script src="js/storymap.2.4.js"></script>

    <!-- mini globle map -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson.min.js"></script>
    <!--<script src="js/globeminimap.js"></script>-->
    <script src="js/data.js"></script>

</head>
<body>

<nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-dark storymap-navbar">
    <a class="navbar-brand" href="#">
        <img src="img/firebeetle.ico" width="100%" class="inline-block">
        <!--convert the style value to a class and then add the class to the css file.-->
        <!--<img src="img/logo.png" class="d-inline-block align-top">-->
        Dead Forests Burning
    </a>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse">
        <!--Create class ml-auto for the navbar items you want on the right.-->
        <ul class="navbar-nav ml-auto">
            <li class="nav-item"><a class="nav-link" "="" href="javascript:window.scrollBy(0, $('section[data-scene=\'scene1\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">Lodgepole&nbsp;Pine Forests</a></li>
            <li class="nav-item"><a class="nav-link" "="" href="javascript:window.scrollBy(0, $('section[data-scene=\'scene2\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">Beetle&nbsp;Outbreak</a></li>
            <li class="nav-item"><a class="nav-link" "="" href="javascript:window.scrollBy(0, $('section[data-scene=\'scene3\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">Wildfire</a></li>
            <li class="nav-item"><a class="nav-link" "="" href="javascript:window.scrollBy(0, $('section[data-scene=\'scene4\']').offset().top - $(window).scrollTop() - $('.storymap-navbar').height() - 30);">Forest&nbsp;Regeneration</a></li>

            <li class="nav-link"><a class="fab fa-github" href="https://github.com/taluccia/geog4572.lab5.taluccia" style="top:40px" target="_blank"></a></li>
            <li><a class="fab fa-facebook-square btn" href="https://facebook.com/sharer.php?u=https://taluccia.github.io/geog4572.lab5.taluccia/" target="_blank"></a></li>
            <li><i class="fas fa-info-circle btn" style="top:60px" data-toggle="modal" data-target="#info-modal"></i></li>


        </ul>
    </div>
</nav>
<br/><br/><br/>
<!-- Intro Content -->
<div class="row">
    <div class="col-md-6">
        <div class="image" style="padding-top: 22px">
            <img class="img-responsive" src="img/astoria-bridge.jpg" alt="">
            <div><i>Sea level rise in the U.S. could force millions of Americans to migrate inland. Photo by Nick Mathews.</i></div>
        </div>
    </div>
    <div class="col-md-6">
        <h2 class="headers">Project Summary</h2>
        <p style="text-align:justify">
        This is a web map of lodgepole pine forest in transition. In central interior British Columbia,
            forests have been killed by mountain pine beetle outbreak and then burned during wildfire, which has raised
            concerns and questions about fire severity and regeneration. This is demo for class lab:
            Geovisualization provided by Oregon State University. The story map library is derived from the
            storymap plugin for leaflet at <a>http://atlefren.github.io/storymap/</a>, and its functionality
            relies on both leaflet and Boostrap.
        </p>
        <h2 class="headers">Background</h2>
        <p style="text-align:justify">
            Unprecedented tree mortality from the recent mountain pine beetle

        </p>
        <p style="text-align:justify">

        </p>
    </div>
</div>
<br>
<p style="text-align: justify">
    To answer this question, Hauer (2017) integrated his 2016 findings with a migration systems analysis to estimate
    where SLR-displaced migrants would move, on a county-to-county scale, and how their migration could dramatically
    alter the American population distribution.
</p>
<p style="text-align:justify">
    This projection also accounted for advancements in SLR-adaptation technology. Adaptive measures will likely allow
    communities to mitigate the impacts of sea level rise in the future, but these adaptations will be expensive.
    Since only relatively wealthy communities will be able to adapt, and community wealth is well represented by
    individual wealth, Hauer (2017) excluded households making more than $100,000/year from his projection.
</p>
<p style="text-align:justify">
    Our geovisualization presents the aforementioned findings in an interactive, geospatial setting. The hexagonal
    nodes are regions containing one or more counties, and the arcs represent outward migration from these regions.
    By interacting with our migration map, people can see how SLR-induced migration could affect both inland and
    coastal communities. We hope this project will encourage users to think about the challenges communities will
    face in the future due to climate change, and how we can all work to create a more resilient future for
    Americans, and for everyone, in a post-SLR world.
</p>

<!--Methodology content-->
<h2 class="headers">Methodology and Data</h2>
<p style="...; text-align: justify">
    Our SLR-migration data, which contains county-to-county migration data within the U.S., was obtained from Hauer
    (2017). A shape file of United States counties was obtained from <a target="_blank" href="http://www.census.gov/geo/maps-data/data"><u>www.census.gov/geo/maps-data/data</u></a>. To improve
    the aesthetics and functionality of this geovisualization, our map displays migration data as flows between
    hexagonal regions, containing one or more individual counties.
</p>
<p style="...; text-align: justify">
    The first step in creating these regions was to set hexagon gridlines along the US map. These were prepared in
    QGIS by using the “hex grid from layer bounds” tool. After generating several maps with different hexagon-side
    sizes (HSS), a threshold was obtained in HSS equal to 100 km <a target="_blank" style="color: blue" href="img/figure_1.jpg">(Figure 1)</a>, which was selected for
    the next step.
</p>
<div class="row" style="padding-bottom: 10px">
    <div class="col-md-12">
        <div class="image" style="padding-top: 22px">
            <img class="img-responsive" src="img/figure_1.jpg" alt="">
        </div>
    </div>
</div>

<p style="...; text-align: justify">
    Migration flow information was transferred to the hexagons using ArcMap tools. In counties with large areas,
    such as San Bernardino, CA or Yukon-Koyukuk, AK, migration flow information was assigned only to one hexagon, while in small counties, one hexagon represented certain number of counties.
    By other hand, since the purpose of this project is to show a map of migration from areas affected by sea level rise to other areas, source counties represented now by hexagons were reduced to only coastal hexagons.
    This resulted in 3223 counties being represented by 714 hexagons, with unique magnitudes of migration between
    each of them. From them, 95 hexagons considered as sources, 714 targets, and still 46,204 links. However, since some hexagons covered more than one county, some flows had the same hexagon-origin
    and hexagon-target <a target="_blank" style="color: blue" href="img/figure_2.jpg">(Figure 2)</a>.
</p>
<div class="row" style="padding-bottom: 10px">
    <div class="col-md-12">
        <div class="image" style="padding-top: 22px">
            <img class="img-responsive" src="img/figure_2.jpg" alt="">
        </div>
    </div>
</div>

<p style="...; text-align: justify">
    Given the large amount of information this yielded, a manual work with shapefiles even in ArcMap results in a tedious labor.
    Hence, two <a target="_blank" style="color: blue" href="Python_codes/main.py">python script</a> were developed to further
    process the data. This script identifies links with same source and target to merge flow (migration)values. This script also
    hid hexagons with zero migratory-flow to delete them. Finally, the process resulted in a clean and concise map with only 8475 links. This map was
    converted into GeoJSON format and its atributes into CSV format <a target="_blank" style="color: blue" href="img/figure_3.jpg">(Figure 3)</a>.
</p>
<div class="row" style="padding-bottom: 10px">
    <div class="col-md-12">
        <div class="image" style="padding-top: 22px">
            <img class="img-responsive" src="img/figure_3.jpg" alt="">
        </div>
    </div>
</div>

<div style="text-align: center"><i>Preparation of hexagonal nodes.</i></div>
<br>

</body>
</html>